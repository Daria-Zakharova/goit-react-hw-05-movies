"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[795],{2049:function(n,e,t){t.d(e,{e:function(){return p}});var r,a=t(168),o=t(2430).Z.ul(r||(r=(0,a.Z)(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: 40px;\n    justify-content: center;\n    line-height: 1.5;\n    \n    li {\n        flex-basis: calc((100% - 120px)/4);\n        max-width: 500px;\n        position: relative;\n        display: flex;\n        gap: 5px 10px;\n        margin-bottom: 10px;\n        box-shadow: 0px 1px 2px #444;\n        overflow: hidden;\n\n        svg {\n            position: absolute;\n            z-index: 4;\n            bottom: 20px;\n            right: 10px;\n            stroke: currentColor;\n            color: #000;\n        }\n\n        .disabled-info-icon {\n            opacity: 0;\n        }\n        .show-info-icon {\n            transition: transform 100ms linear;\n        }\n\n        .show-info-icon:hover {\n            color: #fff;\n\n            &~div p {\n                transform: translateY(-100%);\n                z-index: 2;\n            }\n        }\n\n        .movie-item-wrap {\n           max-width: 600px;\n\n           .poster {\n            aspect-ratio: .67;\n            object-fit: contain;\n            filter: grayscale(.9);\n            transition: filter 350ms linear;\n           }\n\n            .title { \n                display: block;       \n                padding: 10px 40px 20px 20px;\n                transition: text-decoration 200ms linear;\n            }\n\n            p {\n                position: absolute;\n                top: 100%;\n                display: block;\n                padding: 20px;\n                padding-right: 40px;\n                font-size: 18px;\n                box-shadow: 1px 1px 2px #444;\n                background-color: #aaa;\n                \n                transform: translateY(100%);\n                transition: transform 350ms linear;\n            }\n\n            a:hover .title{\n                text-decoration: underline;\n            }\n            a:hover .poster{\n                filter: none;\n            }\n        }\n    }"]))),i=t(8820),c=t(1087),s=t(7689),u=t(5129),l=t(184),p=function(n){var e=n.movies,t=(0,s.TH)();return(0,l.jsx)(o,{children:e.map((function(n){var e=n.id,r=n.title,a=n.release_date,o=n.overview,s=n.poster_path,p=new Date(a).getFullYear(),f=u._p+s;return(0,l.jsxs)("li",{children:[(0,l.jsx)(i.zXS,{className:o?"show-info-icon":"disabled-info-icon",size:"30px"}),(0,l.jsxs)("div",{className:"movie-item-wrap",children:[(0,l.jsxs)(c.rU,{to:"/movies/".concat(e),state:{from:t},children:[(0,l.jsx)("img",{className:"poster",src:s?f:"https://mbfn.org/wp-content/uploads/2020/09/image-coming-soon-placeholder.png",alt:"poster for ".concat(r)}),(0,l.jsxs)("span",{className:"title",children:[r," ",a&&" - "+p]})]}),o&&(0,l.jsx)("p",{children:o})]})]},e)}))})}},3724:function(n,e,t){t.d(e,{V:function(){return c}});var r,a=t(168),o=t(2430).Z.div(r||(r=(0,a.Z)(["\n    margin-top: ",";\n    font-size: 20px;\n"])),(function(n){return n.margin?"40px":0})),i=t(184),c=function(n){var e=n.message,t=n.margin,r=void 0!==t&&t;return(0,i.jsx)(o,{margin:r,children:e})}},7795:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var r,a=t(3433),o=t(5861),i=t(9439),c=t(7757),s=t.n(c),u=t(2791),l=t(1087),p=t(7689),f=t(5129),d=t(2049),x=t(168),m=t(2430).Z.form(r||(r=(0,x.Z)(["\n    display: flex;\n    justify-content: center;\n    margin-bottom: 40px;\n\n    input{\n        padding: 5px;\n        font-size: inherit;\n        border: solid 2px black;\n    }\n\n    button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 0px;\n        border-left: none;\n        background-color: #d2d2d2;\n\n    &:hover, &:focus {\n        background-color: #f0f0f0;\n    }\n    }\n"]))),v=t(5880),g=t(184),h=function(n){var e,t=n.onSubmit,r=(0,l.lr)(),a=null!==(e=(0,i.Z)(r,1)[0].get("title"))&&void 0!==e?e:"",o=(0,u.useState)(a),c=(0,i.Z)(o,2),s=c[0],p=c[1];return(0,g.jsxs)(m,{onSubmit:t,children:[(0,g.jsx)("input",{name:"search",type:"text",value:s,onChange:function(n){return p(n.target.value)}}),(0,g.jsx)("button",{children:(0,g.jsx)(v.lnn,{size:"20"})})]})},b=t(3724);function w(){var n=(0,u.useState)([]),e=(0,i.Z)(n,2),t=e[0],r=e[1],c=(0,u.useState)(""),x=(0,i.Z)(c,2),m=x[0],v=x[1],w=(0,u.useState)(1),y=(0,i.Z)(w,2),j=y[0],k=y[1],Z=(0,u.useState)(1),_=(0,i.Z)(Z,2),S=_[0],z=_[1],T=(0,l.lr)(""),q=(0,i.Z)(T,2),C=q[0],E=q[1];(0,u.useEffect)((function(){var n,e=null!==(n=C.get("title"))&&void 0!==n?n:"";e&&v(e)}),[C]),(0,u.useEffect)((function(){var n=new IntersectionObserver((function(){k((function(n){return n+1}))}),{root:null,rootMargin:"40%",treshhold:0}),e=document.querySelector(".guard");e&&n.observe(e)}),[S]),(0,u.useEffect)((function(){var n=function(){var n=(0,o.Z)(s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.XT)("search",m);case 2:return n.next=4,n.sent.data.total_pages;case 4:e=n.sent,z(e);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();m&&n()}),[m]),(0,u.useEffect)((function(){var n=function(){var n=(0,o.Z)(s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!j){n.next=7;break}return n.next=3,(0,f.XT)({requestType:"search",query:m,page:j});case 3:return n.next=5,n.sent.data.results;case 5:e=n.sent,r((function(n){return[].concat((0,a.Z)(n),(0,a.Z)(e))}));case 7:return n.abrupt("return");case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();m&&n()}),[m,j]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h,{onSubmit:function(n){n.preventDefault();var e=n.target.elements.search.value.toLowerCase().trim();e!==m&&(k(1),r([]),v(e),e&&E({title:e}))}}),m&&!t.length&&(0,g.jsx)(b.V,{message:"Sorry, there is no movie titled ".concat(m)}),0!==t.length&&(0,g.jsx)(d.e,{movies:t}),(0,g.jsx)(p.j3,{}),j<S&&(0,g.jsx)("div",{className:"guard"})]})}},5129:function(n,e,t){t.d(e,{Pg:function(){return s},TP:function(){return u},XT:function(){return c},_p:function(){return i}});var r=t(2388),a="https://api.themoviedb.org/3",o="8cb2067df7427c657a5f093d2a8e51ae",i="https://image.tmdb.org/t/p/w500/",c=function(n){var e=n.requestType,t=void 0===e?"trending":e,i=n.query,c=void 0===i?"":i,s=n.page,u=void 0===s?1:s,l="";switch(t){case"trending":return l="trending/movie/day",r.Z.get("".concat(a,"/").concat(l,"?api_key=").concat(o,"&page=").concat(u));case"search":return l="/search/movie",r.Z.get("".concat(a,"/").concat(l,"?api_key=").concat(o,"&query=").concat(c,"&page=").concat(u))}},s=function(n){var e="/movie/".concat(n);return r.Z.get("".concat(a,"/").concat(e,"?api_key=").concat(o))},u=function(n){var e=n.type,t=n.id,i="";switch(e){case"cast":i="/movie/".concat(t,"/credits");break;case"reviews":i="movie/".concat(t,"/reviews");break;default:throw new Error("Invalid details type meaning in get movie details")}return r.Z.get("".concat(a,"/").concat(i,"?api_key=").concat(o))}}}]);
//# sourceMappingURL=795.326645df.chunk.js.map